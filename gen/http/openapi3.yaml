openapi: 3.0.3
info:
    title: Policy Service
    description: The policy service exposes HTTP API for executing policies.
    version: 0.0.1
servers:
    - url: http://localhost:8081
      description: Policy Server
paths:
    /liveness:
        get:
            tags:
                - health
            summary: Liveness health
            operationId: health#Liveness
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HealthResponse'
                            example:
                                service: Quibusdam qui.
                                status: Labore placeat.
                                version: Consectetur dignissimos ea id est.
    /policy/{repository}/{group}/{policyName}/{version}/evaluation:
        get:
            tags:
                - policy
            summary: Evaluate policy
            description: Evaluate executes a policy with the given 'data' as input.
            operationId: policy#Evaluate#1
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: example
                  example: example
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
                - name: x-evaluation-id
                  in: header
                  description: EvaluationID allows overwriting the randomly generated evaluationID
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: EvaluationID allows overwriting the randomly generated evaluationID
                    example: did:web:example.com
                  example: did:web:example.com
                - name: x-cache-ttl
                  in: header
                  description: Policy result cache TTL in seconds
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Policy result cache TTL in seconds
                    example: 60
                    format: int64
                  example: 60
            requestBody:
                description: Input data passed to the policy execution runtime.
                required: true
                content:
                    application/json:
                        schema:
                            description: Input data passed to the policy execution runtime.
                            example: Explicabo a aliquid eum.
                        example: Fugiat reprehenderit et quasi.
            responses:
                "200":
                    description: OK response.
                    headers:
                        ETag:
                            description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                            schema:
                                type: string
                                description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                                example: Ad tempore voluptatem nesciunt autem minus.
                            example: Accusamus consequatur fugiat consequuntur ex impedit aliquid.
                    content:
                        application/json:
                            schema:
                                description: Arbitrary JSON response.
                                example: Eum sed optio.
                            example: Ut voluptates.
        post:
            tags:
                - policy
            summary: Evaluate policy
            description: Evaluate executes a policy with the given 'data' as input.
            operationId: policy#Evaluate#2
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: example
                  example: example
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
                - name: x-evaluation-id
                  in: header
                  description: EvaluationID allows overwriting the randomly generated evaluationID
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: EvaluationID allows overwriting the randomly generated evaluationID
                    example: did:web:example.com
                  example: did:web:example.com
                - name: x-cache-ttl
                  in: header
                  description: Policy result cache TTL in seconds
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Policy result cache TTL in seconds
                    example: 60
                    format: int64
                  example: 60
            requestBody:
                description: Input data passed to the policy execution runtime.
                required: true
                content:
                    application/json:
                        schema:
                            description: Input data passed to the policy execution runtime.
                            example: Explicabo a aliquid eum.
                        example: Consequatur nisi quisquam voluptates.
            responses:
                "200":
                    description: OK response.
                    headers:
                        ETag:
                            description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                            schema:
                                type: string
                                description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                                example: Ratione sed tenetur.
                            example: Ratione vero omnis eius.
                    content:
                        application/json:
                            schema:
                                description: Arbitrary JSON response.
                                example: Eum sed optio.
                            example: Rem vitae quod nihil.
    /policy/{repository}/{group}/{policyName}/{version}/evaluation/did.json:
        get:
            tags:
                - policy
            summary: Evaluate policy
            description: Evaluate executes a policy with the given 'data' as input.
            operationId: policy#Evaluate
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: example
                  example: example
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
                - name: x-evaluation-id
                  in: header
                  description: EvaluationID allows overwriting the randomly generated evaluationID
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: EvaluationID allows overwriting the randomly generated evaluationID
                    example: did:web:example.com
                  example: did:web:example.com
                - name: x-cache-ttl
                  in: header
                  description: Policy result cache TTL in seconds
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Policy result cache TTL in seconds
                    example: 60
                    format: int64
                  example: 60
            requestBody:
                description: Input data passed to the policy execution runtime.
                required: true
                content:
                    application/json:
                        schema:
                            description: Input data passed to the policy execution runtime.
                            example: Explicabo a aliquid eum.
                        example: Rerum voluptas ex explicabo et dolor.
            responses:
                "200":
                    description: OK response.
                    headers:
                        ETag:
                            description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                            schema:
                                type: string
                                description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                                example: Consequatur nisi nemo dignissimos ut.
                            example: Autem illum aliquid saepe et quia.
                    content:
                        application/json:
                            schema:
                                description: Arbitrary JSON response.
                                example: Eum sed optio.
                            example: Accusantium doloribus omnis odio perspiciatis est consequatur.
    /policy/{repository}/{group}/{policyName}/{version}/export:
        get:
            tags:
                - policy
            summary: ExportBundle policy
            description: Export a signed policy bundle.
            operationId: policy#ExportBundle
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: returnDID
                  example: returnDID
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
            responses:
                "200":
                    description: OK response.
                    headers:
                        content-disposition:
                            description: Content-Disposition response header containing the name of the file.
                            schema:
                                type: string
                                description: Content-Disposition response header containing the name of the file.
                                example: Corporis et autem sunt inventore.
                            example: Ut ex repudiandae non rerum.
                        content-length:
                            description: Content-Length response header.
                            schema:
                                type: integer
                                description: Content-Length response header.
                                example: 497047465617310751
                                format: int64
                            example: 3491967820568980060
                        content-type:
                            description: Content-Type response header.
                            schema:
                                type: string
                                description: Content-Type response header.
                                example: Officia modi ea alias.
                            example: Est aut iste.
                    content:
                        application/json:
                            schema:
                                type: string
                                format: binary
    /policy/{repository}/{group}/{policyName}/{version}/key:
        get:
            tags:
                - policy
            summary: PolicyPublicKey policy
            description: PolicyPublicKey returns the public key in JWK format which must be used to verify a signed policy bundle.
            operationId: policy#PolicyPublicKey
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: returnDID
                  example: returnDID
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                example: Reiciendis dolorem.
                            example: Fugiat quod.
    /policy/{repository}/{group}/{policyName}/{version}/lock:
        delete:
            tags:
                - policy
            summary: Unlock policy
            description: Unlock a policy so it can be evaluated again.
            operationId: policy#Unlock
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: Blanditiis dolor veniam sit similique.
                  example: Voluptatem hic sint vitae quas accusamus eos.
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: Neque distinctio et eum ex.
                  example: Voluptatem est ratione.
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: Consequuntur eligendi qui ducimus officiis est.
                  example: Quisquam vel.
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: Assumenda ipsam et et ut doloremque aut.
                  example: Architecto doloribus et ut consequatur.
            responses:
                "200":
                    description: OK response.
        post:
            tags:
                - policy
            summary: Lock policy
            description: Lock a policy so that it cannot be evaluated.
            operationId: policy#Lock
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: Vero ut.
                  example: Maxime et aliquam.
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: Commodi blanditiis.
                  example: Totam autem quasi.
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: Rerum rerum voluptatem odio placeat.
                  example: Sit sed.
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: Voluptas facilis perspiciatis doloribus eaque velit porro.
                  example: Rerum sunt sed molestias.
            responses:
                "200":
                    description: OK response.
    /policy/{repository}/{group}/{policyName}/{version}/notifychange:
        post:
            tags:
                - policy
            summary: SubscribeForPolicyChange policy
            description: Subscribe for policy change notifications by registering webhook callbacks which the policy service will call.
            operationId: policy#SubscribeForPolicyChange
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: Debitis neque a repellat et ut quo.
                  example: Porro officiis veritatis.
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: Aut ab sit delectus placeat dicta.
                  example: Temporibus et.
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: Tempore enim dolorem maiores aspernatur corporis est.
                  example: Molestias ducimus expedita ad ab.
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: Consequuntur quam aut eius rerum.
                  example: Unde tempora in sed voluptatem.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SubscribeRequest2'
                        example:
                            subscriber: zhn
                            webhook_url: http://hermistonhuels.biz/rossie
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                example: In atque.
                            example: Voluptatem aliquam harum non.
    /policy/{repository}/{group}/{policyName}/{version}/validation:
        get:
            tags:
                - policy
            summary: Validate policy
            description: Validate executes a policy with the given 'data' as input and validates the output schema.
            operationId: policy#Validate#1
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: example
                  example: example
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
                - name: x-evaluation-id
                  in: header
                  description: EvaluationID allows overwriting the randomly generated evaluationID
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: EvaluationID allows overwriting the randomly generated evaluationID
                    example: did:web:example.com
                  example: did:web:example.com
                - name: x-cache-ttl
                  in: header
                  description: Policy result cache TTL in seconds
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Policy result cache TTL in seconds
                    example: 60
                    format: int64
                  example: 60
            requestBody:
                description: Input data passed to the policy execution runtime.
                required: true
                content:
                    application/json:
                        schema:
                            description: Input data passed to the policy execution runtime.
                            example: Minima beatae qui voluptates sit.
                        example: Omnis aliquam eligendi iste.
            responses:
                "200":
                    description: OK response.
                    headers:
                        ETag:
                            description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                            schema:
                                type: string
                                description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                                example: Iusto occaecati voluptas.
                            example: Necessitatibus voluptates debitis nulla laudantium.
                    content:
                        application/json:
                            schema:
                                description: Arbitrary JSON response.
                                example: A cum.
                            example: Ut alias autem doloremque.
        post:
            tags:
                - policy
            summary: Validate policy
            description: Validate executes a policy with the given 'data' as input and validates the output schema.
            operationId: policy#Validate#2
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: example
                  example: example
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
                - name: x-evaluation-id
                  in: header
                  description: EvaluationID allows overwriting the randomly generated evaluationID
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: EvaluationID allows overwriting the randomly generated evaluationID
                    example: did:web:example.com
                  example: did:web:example.com
                - name: x-cache-ttl
                  in: header
                  description: Policy result cache TTL in seconds
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Policy result cache TTL in seconds
                    example: 60
                    format: int64
                  example: 60
            requestBody:
                description: Input data passed to the policy execution runtime.
                required: true
                content:
                    application/json:
                        schema:
                            description: Input data passed to the policy execution runtime.
                            example: Minima beatae qui voluptates sit.
                        example: Voluptatum non vel consequuntur beatae.
            responses:
                "200":
                    description: OK response.
                    headers:
                        ETag:
                            description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                            schema:
                                type: string
                                description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                                example: Aut dolorem earum aut.
                            example: Repellat commodi.
                    content:
                        application/json:
                            schema:
                                description: Arbitrary JSON response.
                                example: A cum.
                            example: Voluptate delectus asperiores quasi quaerat quam.
    /policy/{repository}/{group}/{policyName}/{version}/validation/did.json:
        get:
            tags:
                - policy
            summary: Validate policy
            description: Validate executes a policy with the given 'data' as input and validates the output schema.
            operationId: policy#Validate
            parameters:
                - name: repository
                  in: path
                  description: Policy repository.
                  required: true
                  schema:
                    type: string
                    description: Policy repository.
                    example: policies
                  example: policies
                - name: group
                  in: path
                  description: Policy group.
                  required: true
                  schema:
                    type: string
                    description: Policy group.
                    example: example
                  example: example
                - name: policyName
                  in: path
                  description: Policy name.
                  required: true
                  schema:
                    type: string
                    description: Policy name.
                    example: example
                  example: example
                - name: version
                  in: path
                  description: Policy version.
                  required: true
                  schema:
                    type: string
                    description: Policy version.
                    example: "1.0"
                  example: "1.0"
                - name: x-evaluation-id
                  in: header
                  description: EvaluationID allows overwriting the randomly generated evaluationID
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: EvaluationID allows overwriting the randomly generated evaluationID
                    example: did:web:example.com
                  example: did:web:example.com
                - name: x-cache-ttl
                  in: header
                  description: Policy result cache TTL in seconds
                  allowEmptyValue: true
                  schema:
                    type: integer
                    description: Policy result cache TTL in seconds
                    example: 60
                    format: int64
                  example: 60
            requestBody:
                description: Input data passed to the policy execution runtime.
                required: true
                content:
                    application/json:
                        schema:
                            description: Input data passed to the policy execution runtime.
                            example: Minima beatae qui voluptates sit.
                        example: Fugiat earum nesciunt fugiat sit officia omnis.
            responses:
                "200":
                    description: OK response.
                    headers:
                        ETag:
                            description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                            schema:
                                type: string
                                description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                                example: Iusto dolores sit ipsum error.
                            example: Illum cum incidunt.
                    content:
                        application/json:
                            schema:
                                description: Arbitrary JSON response.
                                example: A cum.
                            example: Sequi saepe praesentium reiciendis neque fugit ut.
    /readiness:
        get:
            tags:
                - health
            summary: Readiness health
            operationId: health#Readiness
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/HealthResponse'
                            example:
                                service: Quidem dolorem doloremque nostrum.
                                status: Cum et quas.
                                version: Aut quis ducimus est quisquam sapiente.
    /v1/policies:
        get:
            tags:
                - policy
            summary: ListPolicies policy
            description: List policies from storage with optional filters.
            operationId: policy#ListPolicies
            parameters:
                - name: locked
                  in: query
                  description: Filter to return locked/unlocked policies (optional).
                  allowEmptyValue: true
                  schema:
                    type: boolean
                    description: Filter to return locked/unlocked policies (optional).
                    example: false
                  example: false
                - name: policyName
                  in: query
                  description: Filter to return policies (optional).
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Filter to return policies (optional).
                    example: example
                  example: example
                - name: rego
                  in: query
                  description: Include policy source code in results (optional).
                  allowEmptyValue: true
                  schema:
                    type: boolean
                    description: Include policy source code in results (optional).
                    example: false
                  example: true
                - name: data
                  in: query
                  description: 'Include policy static data in results (optional). '
                  allowEmptyValue: true
                  schema:
                    type: boolean
                    description: 'Include policy static data in results (optional). '
                    example: true
                  example: true
                - name: dataConfig
                  in: query
                  description: Include static data config (optional).
                  allowEmptyValue: true
                  schema:
                    type: boolean
                    description: Include static data config (optional).
                    example: true
                  example: false
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PoliciesResult'
                            example:
                                policies:
                                    - data: Ipsum explicabo assumenda delectus.
                                      dataConfig: Eius sed.
                                      group: Fugiat harum quia.
                                      lastUpdate: 4992260150389358954
                                      locked: true
                                      policyName: Minima et exercitationem perspiciatis quidem accusamus maxime.
                                      rego: Animi omnis minima fuga numquam.
                                      repository: Aperiam harum et sit qui fugit enim.
                                      version: Ullam natus.
                                    - data: Ipsum explicabo assumenda delectus.
                                      dataConfig: Eius sed.
                                      group: Fugiat harum quia.
                                      lastUpdate: 4992260150389358954
                                      locked: true
                                      policyName: Minima et exercitationem perspiciatis quidem accusamus maxime.
                                      rego: Animi omnis minima fuga numquam.
                                      repository: Aperiam harum et sit qui fugit enim.
                                      version: Ullam natus.
    /v1/policy/import:
        post:
            tags:
                - policy
            summary: ImportBundle policy
            description: Import a signed policy bundle.
            operationId: policy#ImportBundle
            parameters:
                - name: Content-Length
                  in: header
                  allowEmptyValue: true
                  schema:
                    type: integer
                    example: 3431025240070384551
                    format: int64
                  example: 5205640833869411341
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                example: Beatae qui blanditiis unde.
                            example: Natus voluptas sequi asperiores consectetur iusto.
                "403":
                    description: Forbidden response.
                    content:
                        application/json:
                            schema:
                                example: Laborum aut et voluptatibus quos.
                            example: Atque earum nisi qui ducimus repellendus.
                "500":
                    description: Internal Server Error response.
                    content:
                        application/json:
                            schema:
                                example: Sit explicabo dolores quia quia.
                            example: Perspiciatis mollitia cum assumenda ipsa exercitationem.
    /v1/policy/import/config:
        delete:
            tags:
                - policy
            summary: DeletePolicyAutoImport policy
            description: DeletePolicyAutoImport removes a single automatic import configuration.
            operationId: policy#DeletePolicyAutoImport
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/DeletePolicyAutoImportRequest'
                        example:
                            policyURL: http://gutkowski.name/adrian.stroman
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                example: Repellat impedit dicta molestiae doloribus unde.
                            example: Delectus sed nemo asperiores vero.
        get:
            tags:
                - policy
            summary: PolicyAutoImport policy
            description: PolicyAutoImport returns all automatic import configurations.
            operationId: policy#PolicyAutoImport
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                example: Commodi praesentium nulla tempora est.
                            example: Veritatis excepturi asperiores quia iure ad eum.
        post:
            tags:
                - policy
            summary: SetPolicyAutoImport policy
            description: SetPolicyAutoImport enables automatic import of policy bundle on a given time interval.
            operationId: policy#SetPolicyAutoImport
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SetPolicyAutoImportRequest'
                        example:
                            interval: 1h30m
                            policyURL: http://reichert.com/terence
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                example: Voluptatem repellendus pariatur aperiam maxime eum.
                            example: Voluptas doloribus.
components:
    schemas:
        DeletePolicyAutoImportRequest:
            type: object
            properties:
                policyURL:
                    type: string
                    description: PolicyURL defines the address from where a policy bundle will be taken.
                    example: http://prohaska.org/margaretta
                    format: uri
            example:
                policyURL: http://kirlin.biz/sammy.jaskolski
            required:
                - policyURL
        EvaluateRequest:
            type: object
            properties:
                evaluationID:
                    type: string
                    description: Identifier created by external system and passed as parameter to overwrite the randomly generated evaluationID.
                    example: Vero rerum ipsum.
                group:
                    type: string
                    description: Policy group.
                    example: example
                input:
                    description: Input data passed to the policy execution runtime.
                    example: Tempore alias neque.
                policyName:
                    type: string
                    description: Policy name.
                    example: example
                repository:
                    type: string
                    description: Policy repository.
                    example: policies
                ttl:
                    type: integer
                    description: TTL for storing policy result in cache
                    example: 757949530515007247
                    format: int64
                version:
                    type: string
                    description: Policy version.
                    example: "1.0"
            example:
                evaluationID: Vel beatae molestiae ea iste.
                group: example
                input: Ad cum deleniti corrupti voluptatum optio.
                policyName: example
                repository: policies
                ttl: 7597141355907515537
                version: "1.0"
            required:
                - repository
                - group
                - policyName
                - version
        EvaluateResult:
            type: object
            properties:
                ETag:
                    type: string
                    description: ETag contains unique identifier of the policy evaluation and can be used to later retrieve the results from Cache.
                    example: Aut consectetur repudiandae maxime.
                result:
                    description: Arbitrary JSON response.
                    example: Quia recusandae hic id et aut ut.
            example:
                ETag: Ut at molestiae.
                result: Reprehenderit porro possimus ea dolor debitis iure.
            required:
                - result
                - ETag
        ExportBundleRequest:
            type: object
            properties:
                group:
                    type: string
                    description: Policy group.
                    example: example
                policyName:
                    type: string
                    description: Policy name.
                    example: returnDID
                repository:
                    type: string
                    description: Policy repository.
                    example: policies
                version:
                    type: string
                    description: Policy version.
                    example: "1.0"
            example:
                group: example
                policyName: returnDID
                repository: policies
                version: "1.0"
            required:
                - repository
                - group
                - policyName
                - version
        ExportBundleResult:
            type: object
            properties:
                content-disposition:
                    type: string
                    description: Content-Disposition response header containing the name of the file.
                    example: Nihil laudantium eveniet possimus eum consequatur esse.
                content-length:
                    type: integer
                    description: Content-Length response header.
                    example: 1319352604193555963
                    format: int64
                content-type:
                    type: string
                    description: Content-Type response header.
                    example: Esse nisi ullam.
            example:
                content-disposition: In velit et reprehenderit voluptatem aut magnam.
                content-length: 7192463939683870655
                content-type: Quo in consequatur ut quia.
            required:
                - content-type
                - content-length
                - content-disposition
        HealthResponse:
            type: object
            properties:
                service:
                    type: string
                    description: Service name.
                    example: Ipsam quibusdam veniam quis qui.
                status:
                    type: string
                    description: Status message.
                    example: Velit occaecati asperiores soluta deserunt.
                version:
                    type: string
                    description: Service runtime version.
                    example: Aspernatur ea et cupiditate necessitatibus eveniet.
            example:
                service: Sed alias omnis repudiandae vero sapiente.
                status: Nemo unde dolorem hic mollitia itaque.
                version: Architecto voluptatem magnam.
            required:
                - service
                - status
                - version
        LockRequest:
            type: object
            properties:
                group:
                    type: string
                    description: Policy group.
                    example: Cupiditate ut id ea neque ab.
                policyName:
                    type: string
                    description: Policy name.
                    example: Aspernatur facilis a recusandae nihil quis inventore.
                repository:
                    type: string
                    description: Policy repository.
                    example: Magni est est voluptate hic.
                version:
                    type: string
                    description: Policy version.
                    example: Quam commodi rerum.
            example:
                group: Dolorem sed.
                policyName: Rerum ratione.
                repository: Enim est quaerat architecto perferendis officiis.
                version: Quia et porro adipisci expedita delectus quo.
            required:
                - repository
                - group
                - policyName
                - version
        PoliciesRequest:
            type: object
            properties:
                data:
                    type: boolean
                    example: false
                dataConfig:
                    type: boolean
                    example: false
                locked:
                    type: boolean
                    example: false
                policyName:
                    type: string
                    example: example
                rego:
                    type: boolean
                    example: true
            example:
                data: true
                dataConfig: true
                locked: false
                policyName: example
                rego: false
        PoliciesResult:
            type: object
            properties:
                policies:
                    type: array
                    items:
                        $ref: '#/components/schemas/Policy'
                    description: JSON array of policies.
                    example:
                        - data: Architecto quibusdam ab.
                          dataConfig: In illum est et hic.
                          group: Explicabo beatae quisquam officiis libero voluptatibus.
                          lastUpdate: 11739829729968992
                          locked: false
                          policyName: Exercitationem similique quisquam optio.
                          rego: Aut ut fuga quae eius minus.
                          repository: Beatae commodi vitae.
                          version: Repudiandae dolore quod.
                        - data: Architecto quibusdam ab.
                          dataConfig: In illum est et hic.
                          group: Explicabo beatae quisquam officiis libero voluptatibus.
                          lastUpdate: 11739829729968992
                          locked: false
                          policyName: Exercitationem similique quisquam optio.
                          rego: Aut ut fuga quae eius minus.
                          repository: Beatae commodi vitae.
                          version: Repudiandae dolore quod.
                        - data: Architecto quibusdam ab.
                          dataConfig: In illum est et hic.
                          group: Explicabo beatae quisquam officiis libero voluptatibus.
                          lastUpdate: 11739829729968992
                          locked: false
                          policyName: Exercitationem similique quisquam optio.
                          rego: Aut ut fuga quae eius minus.
                          repository: Beatae commodi vitae.
                          version: Repudiandae dolore quod.
                        - data: Architecto quibusdam ab.
                          dataConfig: In illum est et hic.
                          group: Explicabo beatae quisquam officiis libero voluptatibus.
                          lastUpdate: 11739829729968992
                          locked: false
                          policyName: Exercitationem similique quisquam optio.
                          rego: Aut ut fuga quae eius minus.
                          repository: Beatae commodi vitae.
                          version: Repudiandae dolore quod.
            example:
                policies:
                    - data: Architecto quibusdam ab.
                      dataConfig: In illum est et hic.
                      group: Explicabo beatae quisquam officiis libero voluptatibus.
                      lastUpdate: 11739829729968992
                      locked: false
                      policyName: Exercitationem similique quisquam optio.
                      rego: Aut ut fuga quae eius minus.
                      repository: Beatae commodi vitae.
                      version: Repudiandae dolore quod.
                    - data: Architecto quibusdam ab.
                      dataConfig: In illum est et hic.
                      group: Explicabo beatae quisquam officiis libero voluptatibus.
                      lastUpdate: 11739829729968992
                      locked: false
                      policyName: Exercitationem similique quisquam optio.
                      rego: Aut ut fuga quae eius minus.
                      repository: Beatae commodi vitae.
                      version: Repudiandae dolore quod.
                    - data: Architecto quibusdam ab.
                      dataConfig: In illum est et hic.
                      group: Explicabo beatae quisquam officiis libero voluptatibus.
                      lastUpdate: 11739829729968992
                      locked: false
                      policyName: Exercitationem similique quisquam optio.
                      rego: Aut ut fuga quae eius minus.
                      repository: Beatae commodi vitae.
                      version: Repudiandae dolore quod.
            required:
                - policies
        Policy:
            type: object
            properties:
                data:
                    type: string
                    description: Policy static data.
                    example: Tenetur ea illo quisquam adipisci quo possimus.
                dataConfig:
                    type: string
                    description: Policy static data optional configuration.
                    example: Eligendi possimus sit vero quibusdam et.
                group:
                    type: string
                    description: Policy group.
                    example: Ducimus provident.
                lastUpdate:
                    type: integer
                    description: Last update (Unix timestamp).
                    example: 4629320612251106028
                    format: int64
                locked:
                    type: boolean
                    description: Locked specifies if the policy is locked or allowed to execute.
                    example: true
                policyName:
                    type: string
                    description: Policy name.
                    example: Consequatur quisquam aut est sunt omnis.
                rego:
                    type: string
                    description: Policy rego source code.
                    example: Placeat qui numquam minima.
                repository:
                    type: string
                    description: Policy repository.
                    example: Numquam et ullam.
                version:
                    type: string
                    description: Policy version.
                    example: Nostrum illum voluptatibus quia.
            example:
                data: Dicta rerum natus similique exercitationem facere qui.
                dataConfig: Ipsa et et ut sit consequuntur.
                group: Nihil odit exercitationem id.
                lastUpdate: 1593769246382086955
                locked: false
                policyName: Voluptatibus ut.
                rego: Rerum sapiente soluta modi molestiae deserunt velit.
                repository: Rerum praesentium optio commodi quis.
                version: Molestias facilis ut commodi rerum labore.
            required:
                - repository
                - group
                - policyName
                - version
                - locked
                - lastUpdate
        PolicyPublicKeyRequest:
            type: object
            properties:
                group:
                    type: string
                    description: Policy group.
                    example: example
                policyName:
                    type: string
                    description: Policy name.
                    example: returnDID
                repository:
                    type: string
                    description: Policy repository.
                    example: policies
                version:
                    type: string
                    description: Policy version.
                    example: "1.0"
            example:
                group: example
                policyName: returnDID
                repository: policies
                version: "1.0"
            required:
                - repository
                - group
                - policyName
                - version
        SetPolicyAutoImportRequest:
            type: object
            properties:
                interval:
                    type: string
                    description: Interval defines the period for automatic bundle import.
                    example: 1h30m
                    minLength: 2
                policyURL:
                    type: string
                    description: PolicyURL defines the address from where a policy bundle will be taken.
                    example: http://kuhic.net/elfrieda
                    format: uri
            example:
                interval: 1h30m
                policyURL: http://altenwerth.org/carey
            required:
                - policyURL
                - interval
        SubscribeRequest:
            type: object
            properties:
                group:
                    type: string
                    description: Policy group.
                    example: Voluptatem consectetur cum porro optio saepe.
                policyName:
                    type: string
                    description: Policy name.
                    example: Tenetur eum.
                repository:
                    type: string
                    description: Policy repository.
                    example: Nisi quia iste sed quia odio.
                subscriber:
                    type: string
                    description: Name of the subscriber for policy.
                    example: br8
                    minLength: 3
                    maxLength: 100
                version:
                    type: string
                    description: Policy version.
                    example: Assumenda voluptatum adipisci nisi quam.
                webhook_url:
                    type: string
                    description: Subscriber webhook url.
                    example: http://balistrerihintz.net/rosario_schultz
                    format: uri
            example:
                group: Cupiditate fugit sint autem voluptatem qui reiciendis.
                policyName: Consequatur quisquam magni aut.
                repository: Dolor sed harum.
                subscriber: 59u
                version: Sunt dolor.
                webhook_url: http://walkerwaelchi.org/kristopher_kreiger
            required:
                - webhook_url
                - subscriber
                - repository
                - policyName
                - group
                - version
        SubscribeRequest2:
            type: object
            properties:
                subscriber:
                    type: string
                    description: Name of the subscriber for policy.
                    example: j9j
                    minLength: 3
                    maxLength: 100
                webhook_url:
                    type: string
                    description: Subscriber webhook url.
                    example: http://moen.biz/rhoda
                    format: uri
            example:
                subscriber: rau
                webhook_url: http://gerholdlubowitz.name/dawson
            required:
                - webhook_url
                - subscriber
        UnlockRequest:
            type: object
            properties:
                group:
                    type: string
                    description: Policy group.
                    example: Nostrum ullam ut consequatur occaecati exercitationem voluptates.
                policyName:
                    type: string
                    description: Policy name.
                    example: Animi earum voluptatibus aut aut molestiae.
                repository:
                    type: string
                    description: Policy repository.
                    example: Laudantium voluptatem libero ipsum sequi aliquid.
                version:
                    type: string
                    description: Policy version.
                    example: Quod iure necessitatibus.
            example:
                group: Voluptatem dolores accusamus enim.
                policyName: Velit praesentium est dolorem et ut tempore.
                repository: Laudantium fugiat laudantium aliquid qui.
                version: Doloremque in sed inventore ut.
            required:
                - repository
                - group
                - policyName
                - version
tags:
    - name: policy
      description: Policy Service provides evaluation of policies through Open Policy Agent.
    - name: health
      description: Health service provides health check endpoints.
